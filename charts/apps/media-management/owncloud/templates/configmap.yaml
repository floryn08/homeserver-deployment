kind: ConfigMap
apiVersion: v1
metadata:
  name: {{ .Release.Name }}
  namespace: {{ .Values.namespace }}
data:
  DEMO_USERS: "false"
  
  OCIS_INSECURE: "false"
  OCIS_URL: https://owncloud.{{ .Values.domain }}
  OCIS_LOG_LEVEL: debug
  OCIS_LOG_COLOR: "true"
  OCIS_LOG_PRETTY: "true"
  OCIS_ADMIN_USER_ID: ""
  
  ROXY_ROLE_ASSIGNMENT_DRIVER: "oidc"
  OCIS_OIDC_ISSUER: https://auth.{{ .Values.domain }}/application/o/owncloud/
  WEB_OIDC_CLIENT_ID: <path:kv/data/media-management/owncloud#WEB_OIDC_CLIENT_ID>
  
  PROXY_TLS: "false"
  PROXY_OIDC_INSECURE: "true"
  PROXY_HTTP_ADDR: "0.0.0.0:9200"
  PROXY_AUTOPROVISION_ACCOUNTS: "true"
  PROXY_CSP_CONFIG_FILE_LOCATION: /etc/ocis/csp.yaml
  PROXY_OIDC_REWRITE_WELLKNOWN: "true"
  PROXY_USER_OIDC_CLAIM: "preferred_username"
  PROXY_USER_CS3_CLAIM: "username"
  PROXY_OIDC_ACCESS_TOKEN_VERIFY_METHOD: none